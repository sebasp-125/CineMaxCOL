<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - CineMaxColWeb</title>
    <link rel="stylesheet" href="~/css/output.css" />
</head>

<body>
    <header class="sticky top-0 z-10 w-full overflow-x-hidden">
        <div class="navbar bg-white shadow-sm border-y-4 border-[#55692d]">
            <div class="ml-5 drawer">
                <input id="my-drawer" type="checkbox" class="drawer-toggle" />
                <div class="drawer-content">
                    <label for="my-drawer" class="btn btn-primary bg-transparent border-none text-[#55692d]">
                        <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 512 512">
                            <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" />
                        </svg>
                    </label>
                </div>
                <div class="drawer-side z-50">
                    <label for="my-drawer" class="drawer-overlay">
                    <ul class="menu p-4 w-80 min-h-full bg-gradient-to-b from-[#55692d] to-[#cad395] text-white">
                        <li><a href="@Url.Action("LogIn", "Account")">Iniciar Sesión</a></li>
                        <li><a href="@Url.Action("Register", "Account")">Registrarse</a></li>
                        <li><a href="@Url.Action("LogOut", "Account")">Cerrar Sesión</a></li>
                        <li><a href="@Url.Action("Index", "Ceo")">ADMINISTRAR</a></li>
                    </ul>
                </div>
            </div>

            <div class="flex-1 flex items-center justify-between">
                <a href="@Url.Action("Index", "Home")" class="ml-4 text-black font-bold text-2xl">CINEMAXCOL</a>
                <nav class="hidden md:flex gap-8 ml-10">
                    <a class="text-[#55692d] text-xl font-bold" href="#">Cartelera</a>
                    <a class="text-[#55692d] text-xl font-bold" href="#">Salas</a>
                    <a class="text-[#55692d] text-xl font-bold" href="@Url.Action("Comidas", "Home")">Comida</a>
                </nav>
            </div>

            <div class="flex items-center gap-4 pr-5">
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
                        <div class="w-10 rounded-full">
                            @if (!User.Identity.IsAuthenticated)
                            {
                                <img alt="Usuario" src="https://img.wattpad.com/8f19b412f2223afe4288ed0904120a48b7a38ce1/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f776174747061642d6d656469612d736572766963652f53746f7279496d6167652f5650722d38464e2d744a515349673d3d2d3234323931353831302e313434336539633161633764383437652e6a7067" />
                            }
                            else
                            {
                                <img alt="Usuario" src="https://avatars.githubusercontent.com/u/134357858?v=4" />
                            }
                        </div>
                    </div>
                    <ul tabindex="0" class="menu dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52">
                        <li><a class="justify-between">Perfil <span class="badge">Nuevo</span></a></li>
                        <li><a>Configuración</a></li>
                        <li><a href="@Url.Action("LogOut", "Account")">Cerrar sesión</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <main>
        @RenderBody()
    </main>
    <footer class="bg-[#55692d] p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 text-white">
        <div class="flex flex-col items-center">
            <h1 class="font-bold">INFORMACIÓN LEGAL</h1>
            <h1 class="mt-6 font-bold">COMUNÍCATE</h1>
            <p>Soporte.cmc@gmail.com</p>
            <p>300-949 23 23</p>
        </div>
        <div class="col-span-1 md:col-span-2 flex flex-col items-center justify-between">
            <div class="grid grid-cols-2 w-full text-center">
                <span>CONTACTANOS (PQRS)</span>
                <span>NOSOTROS (LOGO)</span>
            </div>
            <div class="text-center mt-6">
                <p>©2025 CINEMAXCOL</p>
            </div>
        </div>
        <div class="flex flex-col items-center">
            <h1 class="mb-2 font-bold">SÍGUENOS EN:</h1>
            <div class="flex space-x-4">
                @* REdes sociales *@
            </div>
        </div>
    </footer>

    <footer class="bg-white text-center text-sm text-gray-500 py-4 border-t">
        Copyright © Your Website 2025
    </footer> 
</body>
</html>

@{
    bool isSuccess = TempData["success"] != null;
    string message = isSuccess ? TempData["success"]?.ToString() : TempData["error"]?.ToString();
    string modalId = isSuccess ? "modal_success" : "modal_error";
    string alertClass = isSuccess ? "alert alert-success" : "alert alert-error";
    string icon = isSuccess
        ? "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-white' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 13l4 4L19 7' /></svg>"
        : "<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6 text-white' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 9v2m0 4h.01M12 5c3.866 0 7 3.134 7 7s-3.134 7-7 7-7-3.134-7-7 3.134-7 7-7z' /></svg>";
}

@if (message != null)
{
    <dialog id="@modalId" class="modal modal-open">
        <div class="modal-box @alertClass">
            <div class="flex items-center gap-3">
                @Html.Raw(icon)
                <h3 class="font-bold text-lg">CineMaxCol</h3>
            </div>
            <p class="py-4">@message</p>
            <div class="modal-action">
                <form method="dialog">
                    <button class="btn bg-gray-200 text-black hover:bg-gray-300">Cerrar</button>
                </form>
            </div>
        </div>
    </dialog>

    <script>
        setTimeout(() => {
            const modal = document.getElementById('@modalId');
            if (modal) modal.close();
        }, 4000);
    </script>
}